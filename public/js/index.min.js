var __awaiter=this&&this.__awaiter||function(e,t,o,i){return new(o||(o=Promise))((function(r,n){function a(e){try{c(i.next(e))}catch(e){n(e)}}function s(e){try{c(i.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};import ApiRequest from"./modules/apirequest.min.js";import BgLoader from"./modules/bgloader.min.js";const slider=document.querySelector(".slider"),pageWrapper=document.querySelector("#page-wrapper"),touchAreaLeft=document.querySelector(".touch-area.left"),touchAreaRight=document.querySelector(".touch-area.right"),slides=Array.from(document.querySelectorAll(".slide")),apiRequestUrl="https://vincentsjogren.com/api";window.oncontextmenu=e=>(e.preventDefault(),e.stopPropagation(),!1),window.onload=()=>__awaiter(void 0,void 0,void 0,(function*(){const e=new ApiRequest(apiRequestUrl,{Accept:"application/json"}),t=yield e.sendRequest();if("boolean"==typeof t)slides[2].style.backgroundImage="http://localhost/vincentsjogren_slide/public/img/default.jpg",slides[2].style.opacity="1";else{const e=new BgLoader(slider,slides,t.img_files,t.img_sizes,t.img_base_url,t.img_prefix,touchAreaLeft,touchAreaRight);yield e.init(),window.onkeydown=t=>{"ArrowLeft"===t.key&&e.moveRight(),"ArrowRight"===t.key&&e.moveLeft()},touchAreaLeft.ontouchstart=touchAreaLeft.onmousedown=()=>e.moveRight(),touchAreaRight.ontouchstart=touchAreaRight.onmousedown=()=>e.moveLeft()}}));
